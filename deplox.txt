#!/bin/bash

echo "üöÄ Pr√©paration des modifications pour le d√©ploiement..."

# Demander le message de commit √† l'utilisateur
read -p "Entrez votre message de commit (ex: 'feat: Ajout nouvelle fonctionnalit√©'): " COMMIT_MESSAGE

# Ajouter tous les fichiers modifi√©s et nouveaux
git add .

# Committer les modifications
git commit -m "$COMMIT_MESSAGE"

# Pousser les modifications vers GitHub
echo "üì§ Envoi des modifications vers GitHub..."
git push origin main

echo "‚úÖ Modifications envoy√©es √† GitHub !"
echo ""
echo "‚è≥ Netlify et Render devraient d√©tecter les changements et red√©ployer automatiquement."
echo "V√©rifiez vos tableaux de bord Netlify et Render pour le statut du d√©ploiement."
echo ""
echo "-------------------------------------------------------------------"
echo "Rappels importants (√† faire seulement si les URLs changent) :"
echo "- Sur Netlify (pour le Frontend) : Allez dans 'Site settings' -> 'Build & deploy' -> 'Environment'"
echo "  et assurez-vous que la variable 'VITE_API_URL' est d√©finie avec l'URL de votre backend Render : "
echo "  https://edp-linda-backend.onrender.com"
echo ""
echo "- Sur Render (pour le Backend) : Allez dans les param√®tres de votre service backend -> 'Environment'"
echo "  et assurez-vous que la variable 'NETLIFY_FRONTEND_URL' est d√©finie avec l'URL de votre frontend Netlify : "
echo "  https://votre-site-netlify.app (remplacez par votre vraie URL Netlify !)"
echo "  Si vous modifiez cette variable sur Render, n'oubliez pas de d√©clencher un red√©ploiement manuel sur Render."
echo "-------------------------------------------------------------------"



A copier dans terminal (v√©rifier la racine) : 

git add .
git commit -m "test: Modification texte pour v√©rifier le d√©ploiement automatique"
git push origin main